<div class="row px-4 pt-3 mt-5 rounded">

  <div class="col">
    <div  class="card my-3 shadow-sm rounded">
      <div class="card-body">
        <h5  class="card-title fst-italic">Random responses

        </h5>
        <p>Can you guess which artworks these randomly selected responses were given for?</p>
        <div *ngFor="let response of randomResponses">
          <hr />
          <h6>{{response.questionAsked}}</h6>
          <p><em>{{response.response}}</em></p>
        </div>
        <div class="d-grid gap-2">
          <button (click)="generateRandomResponseList()" type="button" class="btn btn-primary"><i class="fas fa-redo"></i> Ô∏ÅReload another {{randomCommentCount}} responses</button>
        </div>

      </div>
    </div>
  </div>

</div>

<div class="row px-4 rounded">

  <div class="col">
    <div  class="card my-3 shadow-sm rounded">
      <div class="card-body">
        <h5  class="card-title fst-italic">Popular artworks</h5>
        <p>
          <strong>Total approved responses: </strong>{{allResponses.length}}
        </p>
        <h6>Responses for each artwork</h6>


        <div class="accordion" id="artworkAccordion">

          <div *ngFor="let artwork of artworkResponsesArr; let i = index">
            <div *ngIf="(i == 0)" class="accordion-item">


                <h2 class="accordion-header"
                    id="{{'heading_' + artwork[0].artworkID}}">
                  <button class="accordion-button"
                          type="button"
                          data-bs-toggle="collapse"
                          [attr.data-bs-target]="'#collapse_' + artwork[0].artworkID"
                          aria-expanded="true"
                          [attr.aria-controls]="'collapse_'+ artwork[0].artworkID">
                    {{artwork[0].artworkID}}<br />({{artwork.length}} responses)
                  </button>

                </h2>
                <div id="{{'collapse_' + artwork[0].artworkID}}"
                     class="accordion-collapse collapse show"
                     [attr.aria-labelledby]="'heading_' + artwork[0].artworkID"
                     data-bs-parent="#artworkAccordion">
                  <div class="accordion-body">
                    <div *ngFor="let response of artwork">
                      <p><strong>{{response.questionAsked}}</strong><br />{{response.response}}</p>
                    </div>
                  </div>
                </div>


            </div>

            <div *ngIf="(i > 0)" class="accordion-item">


                <h2 class="accordion-header"
                    id="{{'heading_' + artwork[0].artworkID}}">
                  <button class="accordion-button collapsed"
                          type="button"
                          data-bs-toggle="collapse"
                          [attr.data-bs-target]="'#collapse_' + artwork[0].artworkID"
                          aria-expanded="false"
                          [attr.aria-controls]="'collapse_'+ artwork[0].artworkID">
                    {{artwork[0].artworkID}}<br />({{artwork.length}} responses)
                  </button>
                </h2>
                <div id="{{'collapse_' + artwork[0].artworkID}}"
                     class="accordion-collapse collapse"
                     [attr.aria-labelledby]="'heading_' + artwork[0].artworkID"
                     data-bs-parent="#artworkAccordion">
                  <div class="accordion-body">
                    <div *ngFor="let response of artwork">
                      <p><strong>{{response.questionAsked}}</strong><br />{{response.response}}</p>
                    </div>
                  </div>
                </div>


            </div>





          </div> <!-- end div loop -->

        </div> <!-- end accordion container -->

      </div>
    </div>
  </div>

</div>


