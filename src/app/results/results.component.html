<div class="px-4 pt-3 mt-5 rounded">
  <!--<h1>Navbar example</h1>-->
  <p class="lead">
    Find out how others have responded to these artworks.
  </p>

  <p>
    A selection of responses to these artworks are listed below. Read a selection of randomly chosen responses and
    see if you can guess which artworks they relate to, or take a look at some of the recent responses given for each artwork. Do you
    agree with them?
  </p>

  <p>
    <strong>Total approved responses so far: </strong>{{allResponses.length}}
  </p>

</div>


<div class="row px-4 rounded">

  <div class="col">
    <div  class="card my-3 shadow-sm rounded">
      <div class="card-body">
        <h5  class="card-title fst-italic">Random responses

        </h5>
        <p>Can you guess which artworks these randomly selected responses were given for?</p>
        <div *ngFor="let response of randomResponses">
          <hr />
          <h6>{{response.questionAsked}}</h6>
          <p><em>{{response.response}}</em></p>
        </div>
        <div class="d-grid gap-2">
          <button (click)="generateRandomResponseList()" type="button" class="btn btn-primary"><i class="fas fa-redo"></i> Ô∏ÅReload another {{randomCommentCount}} responses</button>
        </div>

      </div>
    </div>
  </div>

</div>

<div class="row px-4 rounded">

  <div class="col">
    <div  class="card my-3 shadow-sm rounded">
      <div class="card-body">
        <h5  class="card-title fst-italic">Recent responses</h5>



        <div class="accordion" id="artworkAccordion">

          <div *ngFor="let artwork of artworkResponsesArr; let i = index">
            <div *ngIf="(i == 0)" class="accordion-item">


                <h2 class="accordion-header"
                    id="{{'heading_' + artwork[0].artworkID}}">
                  <button class="accordion-button"
                          type="button"
                          data-bs-toggle="collapse"
                          [attr.data-bs-target]="'#collapse_' + artwork[0].artworkID"
                          aria-expanded="true"
                          [attr.aria-controls]="'collapse_'+ artwork[0].artworkID">
                    <em>{{artwork[0].artworkName}}<br />({{artwork.length}} responses)</em>
                  </button>

                </h2>
                <div id="{{'collapse_' + artwork[0].artworkID}}"
                     class="accordion-collapse collapse show"
                     [attr.aria-labelledby]="'heading_' + artwork[0].artworkID"
                     data-bs-parent="#artworkAccordion">
                  <div class="accordion-body">
                    <img src="{{'https://spice.kmi.open.ac.uk/demos/imma_api/main.php?action=artworkimage&filename=' + artwork[0].artworkImage}}" class="img-fluid">
                    <div *ngFor="let response of artwork; let j = index">
                      <div *ngIf="j < recentArtworkCount">
                        <p><strong>{{response.questionAsked}}</strong><br />{{response.response}}</p>
                      </div>
                    </div>
                  </div>
                </div>


            </div>

            <div *ngIf="(i > 0)" class="accordion-item">


                <h2 class="accordion-header"
                    id="{{'heading_' + artwork[0].artworkID}}">
                  <button class="accordion-button collapsed"
                          type="button"
                          data-bs-toggle="collapse"
                          [attr.data-bs-target]="'#collapse_' + artwork[0].artworkID"
                          aria-expanded="false"
                          [attr.aria-controls]="'collapse_'+ artwork[0].artworkID">
                    <em>{{artwork[0].artworkName}}<br />({{artwork.length}} responses)</em>
                  </button>
                </h2>
                <div id="{{'collapse_' + artwork[0].artworkID}}"
                     class="accordion-collapse collapse"
                     [attr.aria-labelledby]="'heading_' + artwork[0].artworkID"
                     data-bs-parent="#artworkAccordion">
                  <div class="accordion-body">
                    <img src="{{'https://spice.kmi.open.ac.uk/demos/imma_api/main.php?action=artworkimage&filename=' + artwork[0].artworkImage}}" class="img-fluid">
                    <div *ngFor="let response of artwork; let j = index">
                      <div *ngIf="j < recentArtworkCount">
                        <p><strong>{{response.questionAsked}}</strong><br />{{response.response}}</p>
                      </div>
                    </div>
                  </div>
                </div>


            </div>





          </div> <!-- end div loop -->

        </div> <!-- end accordion container -->

      </div>
    </div>
  </div>

</div>


